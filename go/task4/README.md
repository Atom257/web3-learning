# ä¸ªäººåšå®¢ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº Go + Gin + GORM å¼€å‘çš„ä¸ªäººåšå®¢ç³»ç»Ÿï¼Œæ”¯æŒç”¨æˆ·è®¤è¯ã€æ–‡ç« ç®¡ç†å’Œè¯„è®ºåŠŸèƒ½ã€‚

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [ä½œä¸šè¦æ±‚](#ä½œä¸šè¦æ±‚)
- [æŠ€æœ¯æ ˆ](#æŠ€æœ¯æ ˆ)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [API æ¥å£æ–‡æ¡£](#api-æ¥å£æ–‡æ¡£)
- [å®‰è£…ä¸è¿è¡Œ](#å®‰è£…ä¸è¿è¡Œ)
- [æ•°æ®åº“è®¾è®¡](#æ•°æ®åº“è®¾è®¡)
- [å¼€å‘è¯´æ˜](#å¼€å‘è¯´æ˜)
- [é¡µé¢é¢„è§ˆ](#é¡µé¢é¢„è§ˆ)

---

## é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªå‰åç«¯åˆ†ç¦»çš„ä¸ªäººåšå®¢ç³»ç»Ÿï¼Œåç«¯ä½¿ç”¨ Go è¯­è¨€ç»“åˆ Gin æ¡†æ¶å’Œ GORM åº“å¼€å‘ï¼Œå‰ç«¯ä½¿ç”¨ HTML + CSS + JavaScript + Bootstrap 5 æ„å»ºã€‚ç³»ç»Ÿå®ç°äº†å®Œæ•´çš„ç”¨æˆ·è®¤è¯ã€æ–‡ç« ç®¡ç†å’Œè¯„è®ºåŠŸèƒ½ã€‚

---

## ä½œä¸šè¦æ±‚

### æ€»ä½“è¦æ±‚

ä½¿ç”¨ Go è¯­è¨€ç»“åˆ Gin æ¡†æ¶å’Œ GORM åº“å¼€å‘ä¸€ä¸ªä¸ªäººåšå®¢ç³»ç»Ÿçš„åç«¯ï¼Œå®ç°åšå®¢æ–‡ç« çš„åŸºæœ¬ç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ–‡ç« çš„åˆ›å»ºã€è¯»å–ã€æ›´æ–°å’Œåˆ é™¤ï¼ˆCRUDï¼‰æ“ä½œï¼ŒåŒæ—¶æ”¯æŒç”¨æˆ·è®¤è¯å’Œç®€å•çš„è¯„è®ºåŠŸèƒ½ã€‚

### è¯¦ç»†è¦æ±‚

#### 1. é¡¹ç›®åˆå§‹åŒ–
- åˆ›å»ºä¸€ä¸ªæ–°çš„ Go é¡¹ç›®ï¼Œä½¿ç”¨ `go mod init` åˆå§‹åŒ–é¡¹ç›®ä¾èµ–ç®¡ç†
- å®‰è£…å¿…è¦çš„åº“ï¼Œå¦‚ Gin æ¡†æ¶ã€GORM ä»¥åŠæ•°æ®åº“é©±åŠ¨ï¼ˆå¦‚ MySQL æˆ– SQLiteï¼‰

#### 2. æ•°æ®åº“è®¾è®¡ä¸æ¨¡å‹å®šä¹‰
- è®¾è®¡æ•°æ®åº“è¡¨ç»“æ„ï¼Œè‡³å°‘åŒ…å«ä»¥ä¸‹å‡ ä¸ªè¡¨ï¼š
  - **users è¡¨**ï¼šå­˜å‚¨ç”¨æˆ·ä¿¡æ¯ï¼ŒåŒ…æ‹¬ `id`ã€`username`ã€`password`ã€`email` ç­‰å­—æ®µ
  - **posts è¡¨**ï¼šå­˜å‚¨åšå®¢æ–‡ç« ä¿¡æ¯ï¼ŒåŒ…æ‹¬ `id`ã€`title`ã€`content`ã€`user_id`ï¼ˆå…³è” users è¡¨çš„ idï¼‰ã€`created_at`ã€`updated_at` ç­‰å­—æ®µ
  - **comments è¡¨**ï¼šå­˜å‚¨æ–‡ç« è¯„è®ºä¿¡æ¯ï¼ŒåŒ…æ‹¬ `id`ã€`content`ã€`user_id`ï¼ˆå…³è” users è¡¨çš„ idï¼‰ã€`post_id`ï¼ˆå…³è” posts è¡¨çš„ idï¼‰ã€`created_at` ç­‰å­—æ®µ
- ä½¿ç”¨ GORM å®šä¹‰å¯¹åº”çš„ Go æ¨¡å‹ç»“æ„ä½“

#### 3. ç”¨æˆ·è®¤è¯ä¸æˆæƒ
- å®ç°ç”¨æˆ·æ³¨å†Œå’Œç™»å½•åŠŸèƒ½ï¼Œç”¨æˆ·æ³¨å†Œæ—¶éœ€è¦å¯¹å¯†ç è¿›è¡ŒåŠ å¯†å­˜å‚¨ï¼Œç™»å½•æ—¶éªŒè¯ç”¨æˆ·è¾“å…¥çš„ç”¨æˆ·åå’Œå¯†ç 
- ä½¿ç”¨ JWTï¼ˆJSON Web Tokenï¼‰å®ç°ç”¨æˆ·è®¤è¯å’Œæˆæƒï¼Œç”¨æˆ·ç™»å½•æˆåŠŸåè¿”å›ä¸€ä¸ª JWTï¼Œåç»­çš„éœ€è¦è®¤è¯çš„æ¥å£éœ€è¦éªŒè¯è¯¥ JWT çš„æœ‰æ•ˆæ€§

#### 4. æ–‡ç« ç®¡ç†åŠŸèƒ½
- å®ç°æ–‡ç« çš„åˆ›å»ºåŠŸèƒ½ï¼Œåªæœ‰å·²è®¤è¯çš„ç”¨æˆ·æ‰èƒ½åˆ›å»ºæ–‡ç« ï¼Œåˆ›å»ºæ–‡ç« æ—¶éœ€è¦æä¾›æ–‡ç« çš„æ ‡é¢˜å’Œå†…å®¹
- å®ç°æ–‡ç« çš„è¯»å–åŠŸèƒ½ï¼Œæ”¯æŒè·å–æ‰€æœ‰æ–‡ç« åˆ—è¡¨å’Œå•ä¸ªæ–‡ç« çš„è¯¦ç»†ä¿¡æ¯
- å®ç°æ–‡ç« çš„æ›´æ–°åŠŸèƒ½ï¼Œåªæœ‰æ–‡ç« çš„ä½œè€…æ‰èƒ½æ›´æ–°è‡ªå·±çš„æ–‡ç« 
- å®ç°æ–‡ç« çš„åˆ é™¤åŠŸèƒ½ï¼Œåªæœ‰æ–‡ç« çš„ä½œè€…æ‰èƒ½åˆ é™¤è‡ªå·±çš„æ–‡ç« 

#### 5. è¯„è®ºåŠŸèƒ½
- å®ç°è¯„è®ºçš„åˆ›å»ºåŠŸèƒ½ï¼Œå·²è®¤è¯çš„ç”¨æˆ·å¯ä»¥å¯¹æ–‡ç« å‘è¡¨è¯„è®º
- å®ç°è¯„è®ºçš„è¯»å–åŠŸèƒ½ï¼Œæ”¯æŒè·å–æŸç¯‡æ–‡ç« çš„æ‰€æœ‰è¯„è®ºåˆ—è¡¨

#### 6. é”™è¯¯å¤„ç†ä¸æ—¥å¿—è®°å½•
- å¯¹å¯èƒ½å‡ºç°çš„é”™è¯¯è¿›è¡Œç»Ÿä¸€å¤„ç†ï¼Œå¦‚æ•°æ®åº“è¿æ¥é”™è¯¯ã€ç”¨æˆ·è®¤è¯å¤±è´¥ã€æ–‡ç« æˆ–è¯„è®ºä¸å­˜åœ¨ç­‰ï¼Œè¿”å›åˆé€‚çš„ HTTP çŠ¶æ€ç å’Œé”™è¯¯ä¿¡æ¯
- ä½¿ç”¨æ—¥å¿—åº“è®°å½•ç³»ç»Ÿçš„è¿è¡Œä¿¡æ¯å’Œé”™è¯¯ä¿¡æ¯ï¼Œæ–¹ä¾¿åç»­çš„è°ƒè¯•å’Œç»´æŠ¤

---

## æŠ€æœ¯æ ˆ

### åç«¯
- **Go 1.21+** - ç¼–ç¨‹è¯­è¨€
- **Gin** - Web æ¡†æ¶
- **GORM** - ORM åº“
- **JWT** - èº«ä»½è®¤è¯
- **bcrypt** - å¯†ç åŠ å¯†
- **MySQL/SQLite** - æ•°æ®åº“

### å‰ç«¯
- **HTML5** - é¡µé¢ç»“æ„
- **CSS3** - æ ·å¼è®¾è®¡
- **JavaScript (ES6+)** - äº¤äº’é€»è¾‘
- **Bootstrap 5** - UI æ¡†æ¶
- **Bootstrap Icons** - å›¾æ ‡åº“

---

## é¡¹ç›®ç»“æ„

```
blog/
â”œâ”€â”€ frontend/              # å‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ style.css     # è‡ªå®šä¹‰æ ·å¼ï¼ˆé«˜çº§é…è‰²æ–¹æ¡ˆï¼‰
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ main.js       # å…¨å±€é…ç½®å’Œå·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ index.js      # é¦–é¡µåŠŸèƒ½ï¼ˆæ–‡ç« åˆ—è¡¨ï¼‰
â”‚   â”‚   â”œâ”€â”€ login.js      # ç™»å½•é¡µé¢
â”‚   â”‚   â”œâ”€â”€ register.js   # æ³¨å†Œé¡µé¢
â”‚   â”‚   â”œâ”€â”€ post-detail.js # æ–‡ç« è¯¦æƒ…é¡µ
â”‚   â”‚   â””â”€â”€ create-post.js # åˆ›å»º/ç¼–è¾‘æ–‡ç« é¡µ
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ login.html    # ç™»å½•é¡µé¢
â”‚   â”‚   â”œâ”€â”€ register.html # æ³¨å†Œé¡µé¢
â”‚   â”‚   â”œâ”€â”€ post-detail.html # æ–‡ç« è¯¦æƒ…é¡µ
â”‚   â”‚   â””â”€â”€ create-post.html # åˆ›å»º/ç¼–è¾‘æ–‡ç« é¡µ
â”‚   â””â”€â”€ index.html        # é¦–é¡µï¼ˆæ–‡ç« åˆ—è¡¨ï¼‰
â”‚
â”œâ”€â”€ backend/              # åç«¯ä»£ç 
â”‚   â”œâ”€â”€ main.go          # ç¨‹åºå…¥å£
â”‚   â”‚   â””â”€â”€ func main() {}  # åˆå§‹åŒ–æ•°æ®åº“ã€æ³¨å†Œè·¯ç”±ã€å¯åŠ¨æœåŠ¡å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ go.mod           # ä¾èµ–ç®¡ç†
â”‚   â”œâ”€â”€ go.sum
â”‚   â”‚
â”‚   â”œâ”€â”€ config/          # é…ç½®ç®¡ç†
â”‚   â”‚   â””â”€â”€ config.go
â”‚   â”‚       â””â”€â”€ type Config struct {}  # é…ç½®ç»“æ„ä½“
â”‚   â”‚       â””â”€â”€ func LoadConfig() Config {}  # åŠ è½½é…ç½®
â”‚   â”‚
â”‚   â”œâ”€â”€ models/          # æ•°æ®æ¨¡å‹ï¼ˆGORMï¼‰
â”‚   â”‚   â”œâ”€â”€ user.go
â”‚   â”‚   â”‚   â””â”€â”€ type User struct {}  # id, name, password, email, timestamps
â”‚   â”‚   â”‚   â””â”€â”€ func (u *User) BeforeCreate() {}  # å¯†ç åŠ å¯†é’©å­
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ post.go
â”‚   â”‚   â”‚   â””â”€â”€ type Post struct {}  # id, title, content, user_id, timestamps
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ comment.go
â”‚   â”‚       â””â”€â”€ type Comment struct {}  # id, content, user_id, post_id, timestamps
â”‚   â”‚
â”‚   â”œâ”€â”€ database/        # æ•°æ®åº“ç›¸å…³
â”‚   â”‚   â””â”€â”€ db.go
â”‚   â”‚       â””â”€â”€ var DB *gorm.DB  # å…¨å±€æ•°æ®åº“è¿æ¥
â”‚   â”‚       â””â”€â”€ func InitDB() error {}  # åˆå§‹åŒ–æ•°æ®åº“è¿æ¥
â”‚   â”‚       â””â”€â”€ func AutoMigrate() error {}  # è‡ªåŠ¨è¿ç§»è¡¨ç»“æ„
â”‚   â”‚
â”‚   â”œâ”€â”€ handlers/        # è¯·æ±‚å¤„ç†å±‚ï¼ˆControllerï¼‰
â”‚   â”‚   â”œâ”€â”€ auth.go      # è®¤è¯ç›¸å…³
â”‚   â”‚   â”‚   â””â”€â”€ func Register(c *gin.Context) {}  # ç”¨æˆ·æ³¨å†Œ
â”‚   â”‚   â”‚   â””â”€â”€ func Login(c *gin.Context) {}  # ç”¨æˆ·ç™»å½•
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ post.go      # æ–‡ç« ç›¸å…³
â”‚   â”‚   â”‚   â””â”€â”€ func CreatePost(c *gin.Context) {}  # åˆ›å»ºæ–‡ç« 
â”‚   â”‚   â”‚   â””â”€â”€ func GetPosts(c *gin.Context) {}  # è·å–æ‰€æœ‰æ–‡ç« åˆ—è¡¨
â”‚   â”‚   â”‚   â””â”€â”€ func GetPost(c *gin.Context) {}  # è·å–å•ç¯‡æ–‡ç« è¯¦æƒ…
â”‚   â”‚   â”‚   â””â”€â”€ func UpdatePost(c *gin.Context) {}  # æ›´æ–°æ–‡ç« 
â”‚   â”‚   â”‚   â””â”€â”€ func DeletePost(c *gin.Context) {}  # åˆ é™¤æ–‡ç« 
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ comment.go   # è¯„è®ºç›¸å…³
â”‚   â”‚       â””â”€â”€ func CreateComment(c *gin.Context) {}  # åˆ›å»ºè¯„è®º
â”‚   â”‚       â””â”€â”€ func GetCommentsByPost(c *gin.Context) {}  # è·å–æ–‡ç« çš„æ‰€æœ‰è¯„è®º
â”‚   â”‚
â”‚   â”œâ”€â”€ middleware/      # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ auth.go      # JWTè®¤è¯
â”‚   â”‚   â”‚   â””â”€â”€ func AuthMiddleware() gin.HandlerFunc {}  # JWTéªŒè¯ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ func GetUserFromContext(c *gin.Context) uint {}  # ä»ä¸Šä¸‹æ–‡è·å–ç”¨æˆ·ID
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ cors.go      # è·¨åŸŸå¤„ç†
â”‚   â”‚   â”‚   â””â”€â”€ func CORSMiddleware() gin.HandlerFunc {}  # CORSä¸­é—´ä»¶
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ logger.go    # æ—¥å¿—è®°å½•
â”‚   â”‚       â””â”€â”€ func LoggerMiddleware() gin.HandlerFunc {}  # è¯·æ±‚æ—¥å¿—ä¸­é—´ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ jwt.go       # JWTç›¸å…³
â”‚   â”‚   â”‚   â””â”€â”€ func GenerateToken(userID uint) (string, error) {}  # ç”ŸæˆJWT Token
â”‚   â”‚   â”‚   â””â”€â”€ func ParseToken(tokenString string) (uint, error) {}  # è§£æJWT Token
â”‚   â”‚   â”‚   â””â”€â”€ func ValidateToken(tokenString string) bool {}  # éªŒè¯Tokenæœ‰æ•ˆæ€§
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ password.go  # å¯†ç åŠ å¯†
â”‚   â”‚   â”‚   â””â”€â”€ func HashPassword(password string) (string, error) {}  # å¯†ç åŠ å¯†ï¼ˆbcryptï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ func CheckPassword(password, hashedPassword string) bool {}  # å¯†ç éªŒè¯
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ response.go  # ç»Ÿä¸€å“åº”æ ¼å¼
â”‚   â”‚       â””â”€â”€ Code å¸¸é‡å®šä¹‰ï¼ˆ200/400/401/403/404/409/500ï¼‰
â”‚   â”‚       â””â”€â”€ Msg é”™è¯¯æ¶ˆæ¯å¸¸é‡
â”‚   â”‚       â””â”€â”€ type Response struct {}  # å“åº”ç»“æ„ä½“
â”‚   â”‚       â””â”€â”€ func Success(c *gin.Context, data interface{}) {}  # æˆåŠŸå“åº”
â”‚   â”‚       â””â”€â”€ func Error(c *gin.Context, code int, message string) {}  # é”™è¯¯å“åº”
â”‚   â”‚
â”‚   â””â”€â”€ routes/          # è·¯ç”±é…ç½®
â”‚       â””â”€â”€ routes.go
â”‚           â””â”€â”€ func SetupRoutes(r *gin.Engine) {}  # æ³¨å†Œæ‰€æœ‰è·¯ç”±
â”‚           â””â”€â”€ func setupAuthRoutes(r *gin.RouterGroup) {}  # æ³¨å†Œè®¤è¯è·¯ç”±
â”‚           â””â”€â”€ func setupPostRoutes(r *gin.RouterGroup) {}  # æ³¨å†Œæ–‡ç« è·¯ç”±
â”‚           â””â”€â”€ func setupCommentRoutes(r *gin.RouterGroup) {}  # æ³¨å†Œè¯„è®ºè·¯ç”±
â”‚
â””â”€â”€ README.md            # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

---

## åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®ç°ï¼ˆå‰ç«¯ï¼‰
- âœ… å“åº”å¼é¡µé¢è®¾è®¡ï¼ˆç§»åŠ¨ç«¯å‹å¥½ï¼‰
- âœ… é«˜çº§é…è‰²æ–¹æ¡ˆï¼ˆæ¸å˜ã€é˜´å½±ã€åŠ¨ç”»ï¼‰
- âœ… æ–‡ç« åˆ—è¡¨å±•ç¤ºï¼ˆæ”¯æŒåˆ†é¡µï¼‰
- âœ… æ–‡ç« è¯¦æƒ…æŸ¥çœ‹
- âœ… è¯„è®ºå±•ç¤º
- âœ… ç”¨æˆ·ç™»å½•/æ³¨å†Œç•Œé¢
- âœ… æ–‡ç« åˆ›å»º/ç¼–è¾‘ç•Œé¢
- âœ… æ¨¡æ‹Ÿæ•°æ®æ”¯æŒï¼ˆä¾¿äºæ¼”ç¤ºå’Œå¼€å‘ï¼‰
- âœ… ç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’ŒåŠ è½½çŠ¶æ€

### âœ… å·²å®ç°ï¼ˆåç«¯ï¼‰
- âœ… ç”¨æˆ·æ³¨å†Œå’Œç™»å½•
- âœ… JWT è®¤è¯ä¸­é—´ä»¶
- âœ… æ–‡ç«  CRUD æ“ä½œ
- âœ… æ–‡ç« åˆ†é¡µåŠŸèƒ½
- âœ… è¯„è®ºåˆ›å»ºå’ŒæŸ¥è¯¢
- âœ… æƒé™æ§åˆ¶ï¼ˆä½œè€…æ‰èƒ½ç¼–è¾‘/åˆ é™¤ï¼‰
- âœ… æ•°æ®åº“æ¨¡å‹å’Œè¿ç§»
- âœ… ç»Ÿä¸€é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
- âœ… è¾“å…¥éªŒè¯

---

## API æ¥å£æ–‡æ¡£

### åŸºç¡€ä¿¡æ¯

- **Base URL**: `http://localhost:8080/api`
- **Content-Type**: `application/json`
- **è®¤è¯æ–¹å¼**: JWT Tokenï¼ˆBearer Tokenï¼‰

### ç»Ÿä¸€å“åº”æ ¼å¼

æ‰€æœ‰ API æ¥å£éµå¾ªç»Ÿä¸€çš„å“åº”æ ¼å¼ï¼š

#### æˆåŠŸå“åº”
```json
{
  "code": 200,
  "message": "æ“ä½œæˆåŠŸ",
  "data": {
    // è¿”å›çš„æ•°æ®
  }
}
```

#### é”™è¯¯å“åº”
```json
{
  "code": 400,
  "message": "é”™è¯¯æç¤ºä¿¡æ¯"
}
```

### çŠ¶æ€ç è¯´æ˜

| Code | HTTP çŠ¶æ€ç  | è¯´æ˜ | ä½¿ç”¨åœºæ™¯ |
|------|------------|------|---------|
| 200 | OK | æ“ä½œæˆåŠŸ | æ‰€æœ‰æˆåŠŸçš„æ“ä½œ |
| 400 | Bad Request | è¯·æ±‚å‚æ•°é”™è¯¯ | ç¼ºå°‘å¿…å¡«å­—æ®µã€æ ¼å¼ä¸æ­£ç¡® |
| 401 | Unauthorized | æœªæˆæƒ | JWT Token ç¼ºå¤±ã€æ— æ•ˆæˆ–è¿‡æœŸ |
| 403 | Forbidden | ç¦æ­¢è®¿é—® | æ— æƒé™æ“ä½œï¼ˆå¦‚éä½œè€…ä¿®æ”¹æ–‡ç« ï¼‰ |
| 404 | Not Found | èµ„æºä¸å­˜åœ¨ | æ–‡ç« ã€è¯„è®ºã€ç”¨æˆ·ä¸å­˜åœ¨ |
| 409 | Conflict | èµ„æºå†²çª | ç”¨æˆ·åå·²å­˜åœ¨ã€é‚®ç®±å·²å­˜åœ¨ |
| 500 | Internal Server Error | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ | æ•°æ®åº“é”™è¯¯ã€æœªçŸ¥é”™è¯¯ |

### å¸¸è§é”™è¯¯åœºæ™¯

#### è®¤è¯ç›¸å…³
- **401 - æœªæˆæƒ**ï¼šJWT Token ç¼ºå¤±ã€æ— æ•ˆæˆ–è¿‡æœŸ
- **401 - ç™»å½•å¤±è´¥**ï¼šç”¨æˆ·åæˆ–å¯†ç é”™è¯¯
- **409 - ç”¨æˆ·åå·²å­˜åœ¨**ï¼šæ³¨å†Œæ—¶ç”¨æˆ·åå†²çª
- **409 - é‚®ç®±å·²å­˜åœ¨**ï¼šæ³¨å†Œæ—¶é‚®ç®±å†²çª

#### èµ„æºç›¸å…³
- **404 - æ–‡ç« ä¸å­˜åœ¨**ï¼šæŸ¥è¯¢/æ›´æ–°/åˆ é™¤æ–‡ç« æ—¶
- **404 - è¯„è®ºä¸å­˜åœ¨**ï¼šæŸ¥è¯¢è¯„è®ºæ—¶
- **403 - æ— æƒé™**ï¼šéä½œè€…å°è¯•æ›´æ–°/åˆ é™¤æ–‡ç« 

#### è¯·æ±‚ç›¸å…³
- **400 - å‚æ•°é”™è¯¯**ï¼šç¼ºå°‘å¿…å¡«å­—æ®µã€æ ¼å¼ä¸æ­£ç¡®

### è®¤è¯æ¥å£

#### ç”¨æˆ·æ³¨å†Œ
```
POST /api/auth/register
Body:
{
  "name": "string",
  "email": "string",
  "password": "string"
}

æˆåŠŸå“åº” (200):
{
  "code": 200,
  "data": {
    "id": 1,
    "name": "string",
    "email": "string"
  }
}

é”™è¯¯å“åº”ç¤ºä¾‹:
{
  "code": 400,
  "message": "è¯·æ±‚å‚æ•°é”™è¯¯"
}
{
  "code": 409,
  "message": "ç”¨æˆ·åå·²å­˜åœ¨"
}
{
  "code": 409,
  "message": "é‚®ç®±å·²å­˜åœ¨"
}
```

#### ç”¨æˆ·ç™»å½•
```
POST /api/auth/login
Body:
{
  "name": "string",
  "password": "string"
}

æˆåŠŸå“åº” (200):
{
  "code": 200,
  "data": {
    "token": "jwt_token_string",
    "user": {
      "id": 1,
      "name": "string",
      "email": "string"
    }
  }
}

é”™è¯¯å“åº”ç¤ºä¾‹:
{
  "code": 400,
  "message": "è¯·æ±‚å‚æ•°é”™è¯¯"
}
{
  "code": 401,
  "message": "ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯"
}
{
  "code": 404,
  "message": "ç”¨æˆ·ä¸å­˜åœ¨"
}
```

### æ–‡ç« æ¥å£

#### è·å–æ‰€æœ‰æ–‡ç« ï¼ˆæ”¯æŒåˆ†é¡µï¼‰
```
GET /api/posts?page=1&page_size=10

æŸ¥è¯¢å‚æ•°ï¼š
- page: é¡µç ï¼ˆå¯é€‰ï¼Œé»˜è®¤ 1ï¼‰
- page_size: æ¯é¡µæ•°é‡ï¼ˆå¯é€‰ï¼Œé»˜è®¤ 10ï¼Œæœ€å¤§ 50ï¼‰

æˆåŠŸå“åº” (200):
{
  "code": 200,
  "data": {
    "posts": [
      {
        "id": 1,
        "title": "string",
        "content": "string",
        "user_id": 1,
        "user": {
          "id": 1,
          "name": "string",
          "email": "string"
        },
        "created_at": "2024-01-01T00:00:00Z",
        "updated_at": "2024-01-01T00:00:00Z"
      }
    ],
    "pagination": {
      "page": 1,
      "page_size": 10,
      "total": 100,
      "total_page": 10
    }
  }
}
```

#### è·å–å•ç¯‡æ–‡ç« 
```
GET /api/posts/:id

æˆåŠŸå“åº” (200):
{
  "code": 200,
  "data": {
    "post": {
      "id": 1,
      "title": "string",
      "content": "string",
      "user_id": 1,
      "user": {
        "id": 1,
        "name": "string",
        "email": "string"
      },
      "created_at": "2024-01-01T00:00:00Z",
      "updated_at": "2024-01-01T00:00:00Z"
    }
  }
}

é”™è¯¯å“åº”ç¤ºä¾‹:
{
  "code": 404,
  "message": "æ–‡ç« ä¸å­˜åœ¨"
}
```

#### åˆ›å»ºæ–‡ç« ï¼ˆéœ€è®¤è¯ï¼‰
```
POST /api/posts
Headers: Authorization: Bearer <token>
Body:
{
  "title": "string",
  "content": "string"
}

æˆåŠŸå“åº” (200):
{
  "code": 200,
  "data": {
    "post_id": 1,
    "title": "string"
  }
}

é”™è¯¯å“åº”ç¤ºä¾‹:
{
  "code": 400,
  "message": "è¯·æ±‚å‚æ•°é”™è¯¯"
}
{
  "code": 401,
  "message": "æœªæˆæƒï¼Œè¯·å…ˆç™»å½•"
}
```

#### æ›´æ–°æ–‡ç« ï¼ˆéœ€è®¤è¯+ä½œè€…æƒé™ï¼‰
```
PUT /api/posts/:id
Headers: Authorization: Bearer <token>
Body:
{
  "title": "string",
  "content": "string"
}

æˆåŠŸå“åº” (200):
{
  "code": 200,
  "data": {
    "msg": "æ“ä½œæˆåŠŸ"
  }
}

é”™è¯¯å“åº”ç¤ºä¾‹:
{
  "code": 400,
  "message": "è¯·æ±‚å‚æ•°é”™è¯¯"
}
{
  "code": 401,
  "message": "æœªæˆæƒï¼Œè¯·å…ˆç™»å½•"
}
{
  "code": 403,
  "message": "æ— æƒé™æ“ä½œæ­¤èµ„æº"
}
{
  "code": 404,
  "message": "æ–‡ç« ä¸å­˜åœ¨"
}
```

#### åˆ é™¤æ–‡ç« ï¼ˆéœ€è®¤è¯+ä½œè€…æƒé™ï¼‰
```
DELETE /api/posts/:id
Headers: Authorization: Bearer <token>

æˆåŠŸå“åº” (200):
{
  "code": 200,
  "data": {
    "msg": "æ“ä½œæˆåŠŸ"
  }
}

é”™è¯¯å“åº”ç¤ºä¾‹:
{
  "code": 401,
  "message": "æœªæˆæƒï¼Œè¯·å…ˆç™»å½•"
}
{
  "code": 403,
  "message": "æ— æƒé™æ“ä½œæ­¤èµ„æº"
}
{
  "code": 404,
  "message": "æ–‡ç« ä¸å­˜åœ¨"
}
```

### è¯„è®ºæ¥å£

#### è·å–æ–‡ç« è¯„è®º
```
GET /api/comments/post/:post_id

æˆåŠŸå“åº” (200):
{
  "code": 200,
  "data": {
    "comments": [
      {
        "id": 1,
        "content": "string",
        "user_id": 1,
        "post_id": 1,
        "user": {
          "id": 1,
          "name": "string",
          "email": "string"
        },
        "created_at": "2024-01-01T00:00:00Z"
      }
    ],
    "count": 1
  }
}

é”™è¯¯å“åº”ç¤ºä¾‹:
{
  "code": 404,
  "message": "æ–‡ç« ä¸å­˜åœ¨"
}
```

#### åˆ›å»ºè¯„è®ºï¼ˆéœ€è®¤è¯ï¼‰
```
POST /api/comments
Headers: Authorization: Bearer <token>
Body:
{
  "post_id": 1,
  "content": "string"
}

æˆåŠŸå“åº” (200):
{
  "code": 200,
  "data": {
    "msg": "æ“ä½œæˆåŠŸ"
  }
}

é”™è¯¯å“åº”ç¤ºä¾‹:
{
  "code": 400,
  "message": "è¯·æ±‚å‚æ•°é”™è¯¯"
}
{
  "code": 401,
  "message": "æœªæˆæƒï¼Œè¯·å…ˆç™»å½•"
}
{
  "code": 404,
  "message": "æ–‡ç« ä¸å­˜åœ¨"
}
```

---

## æ•°æ®åº“è®¾è®¡

### zen_user è¡¨
| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | uint | ä¸»é”®ï¼Œè‡ªå¢ |
| name | string | ç”¨æˆ·åï¼Œå”¯ä¸€ |
| password | string | åŠ å¯†åçš„å¯†ç  |
| email | string | é‚®ç®±ï¼Œå”¯ä¸€ |
| created_at | timestamp | åˆ›å»ºæ—¶é—´ |
| updated_at | timestamp | æ›´æ–°æ—¶é—´ |

### zen_post è¡¨
| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | uint | ä¸»é”®ï¼Œè‡ªå¢ |
| title | string | æ–‡ç« æ ‡é¢˜ |
| content | text | æ–‡ç« å†…å®¹ |
| user_id | uint | å¤–é”®ï¼Œå…³è” zen_user.id |
| created_at | timestamp | åˆ›å»ºæ—¶é—´ |
| updated_at | timestamp | æ›´æ–°æ—¶é—´ |

### zen_comment è¡¨
| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|------|------|------|
| id | uint | ä¸»é”®ï¼Œè‡ªå¢ |
| content | text | è¯„è®ºå†…å®¹ |
| user_id | uint | å¤–é”®ï¼Œå…³è” zen_user.id |
| post_id | uint | å¤–é”®ï¼Œå…³è” zen_post.id |
| created_at | timestamp | åˆ›å»ºæ—¶é—´ |

---

## å®‰è£…ä¸è¿è¡Œ

### ç¯å¢ƒè¦æ±‚

- Go 1.21 æˆ–æ›´é«˜ç‰ˆæœ¬
- MySQL 5.7+ æˆ– SQLite 3
- ç°ä»£æµè§ˆå™¨ï¼ˆChromeã€Firefoxã€Edge ç­‰ï¼‰

### åç«¯å¯åŠ¨

```bash
# è¿›å…¥åç«¯ç›®å½•
cd backend

# å®‰è£…ä¾èµ–ï¼ˆå¦‚æœè¿˜æœªå®‰è£…ï¼‰
go mod tidy

# é…ç½®ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼Œæˆ–ä½¿ç”¨é»˜è®¤é…ç½®ï¼‰
# åˆ›å»º .env æ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
# DB_TYPE=sqlite
# DB_NAME=blog.db
# JWT_SECRET=your-secret-key
# SERVER_PORT=8080

# è¿è¡ŒæœåŠ¡
go run main.go

# æœåŠ¡å°†åœ¨ http://localhost:8080 å¯åŠ¨
```

### å‰ç«¯è¿è¡Œ

```bash
# ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€
frontend/index.html

# æˆ–ä½¿ç”¨æœ¬åœ°æœåŠ¡å™¨ï¼ˆæ¨èï¼‰
# Python 3
python -m http.server 3000
# ç„¶ååœ¨æµè§ˆå™¨è®¿é—® http://localhost:3000/frontend/index.html

# æˆ–ä½¿ç”¨ Node.js
npx http-server frontend -p 3000
```

### é…ç½®è¯´æ˜

#### åç«¯é…ç½®
åœ¨ `backend/config/config.go` ä¸­é…ç½®ï¼š
- æ•°æ®åº“è¿æ¥ä¿¡æ¯
- JWT å¯†é’¥
- æœåŠ¡å™¨ç«¯å£ï¼ˆé»˜è®¤ 8080ï¼‰

#### å‰ç«¯é…ç½®
åœ¨ `frontend/js/main.js` ä¸­ä¿®æ”¹ï¼š
```javascript
const API_BASE_URL = 'http://localhost:8080/api';
```

---

## å¼€å‘è¯´æ˜

### å¼€å‘æµç¨‹

1. âœ… **æ•°æ®åº“è®¾è®¡**ï¼šè¡¨ç»“æ„å·²è®¾è®¡å®Œæˆ
2. âœ… **æ¨¡å‹å®šä¹‰**ï¼šä½¿ç”¨ GORM å®šä¹‰äº† Userã€Postã€Comment æ¨¡å‹å’Œå…³è”å…³ç³»
3. âœ… **å·¥å…·å‡½æ•°**ï¼šå·²å®ç° JWTã€å¯†ç åŠ å¯†ã€å“åº”æ ¼å¼ç­‰å·¥å…·
4. âœ… **ä¸­é—´ä»¶å¼€å‘**ï¼šå·²å®ç°è®¤è¯ã€CORSã€æ—¥å¿—ç­‰ä¸­é—´ä»¶
5. âœ… **ä¸šåŠ¡é€»è¾‘**ï¼šå·²å®ç°å„ä¸ª Handler çš„ä¸šåŠ¡é€»è¾‘
6. âœ… **è·¯ç”±æ³¨å†Œ**ï¼šå·²é…ç½®æ‰€æœ‰ API è·¯ç”±å’Œä¸­é—´ä»¶
7. âœ… **æµ‹è¯•è”è°ƒ**ï¼šå‰ç«¯ä¸åç«¯å¯æ­£å¸¸è”è°ƒ

### ä¸»è¦åŠŸèƒ½

- âœ… ç”¨æˆ·è®¤è¯ï¼ˆæ³¨å†Œã€ç™»å½•ã€JWT Tokenï¼‰
- âœ… æ–‡ç« ç®¡ç†ï¼ˆCRUD + åˆ†é¡µï¼‰
- âœ… è¯„è®ºåŠŸèƒ½ï¼ˆåˆ›å»ºã€æŸ¥è¯¢ï¼‰
- âœ… æƒé™æ§åˆ¶ï¼ˆä½œè€…æ‰èƒ½ç¼–è¾‘/åˆ é™¤ï¼‰
- âœ… è¾“å…¥éªŒè¯
- âœ… ç»Ÿä¸€é”™è¯¯å¤„ç†
- âœ… è¯·æ±‚æ—¥å¿—è®°å½•

### æ³¨æ„äº‹é¡¹

- å¯†ç å¿…é¡»ä½¿ç”¨ bcrypt åŠ å¯†å­˜å‚¨ï¼Œä¸èƒ½æ˜æ–‡ä¿å­˜
- JWT Token éœ€è¦è®¾ç½®åˆç†çš„è¿‡æœŸæ—¶é—´
- æ‰€æœ‰éœ€è¦è®¤è¯çš„æ¥å£å¿…é¡»éªŒè¯ JWT Token
- æ›´æ–°å’Œåˆ é™¤æ“ä½œéœ€è¦éªŒè¯ç”¨æˆ·æ˜¯å¦ä¸ºèµ„æºçš„æ‰€æœ‰è€…
- ç»Ÿä¸€ä½¿ç”¨è§„èŒƒçš„é”™è¯¯å“åº”æ ¼å¼ï¼ˆå‚è€ƒ `utils/response.go`ï¼‰
- è®°å½•å…³é”®æ“ä½œå’Œé”™è¯¯çš„æ—¥å¿—
- æ‰€æœ‰ API å“åº”å¿…é¡»éµå¾ªç»Ÿä¸€çš„å“åº”æ ¼å¼ï¼Œä½¿ç”¨ `utils.Success()` å’Œ `utils.Error()` æ–¹æ³•

### æƒé™æ§åˆ¶

- **å…¬å¼€æ¥å£**ï¼šæ–‡ç« åˆ—è¡¨ã€æ–‡ç« è¯¦æƒ…ã€è¯„è®ºåˆ—è¡¨
- **éœ€è®¤è¯æ¥å£**ï¼šåˆ›å»ºæ–‡ç« ã€åˆ›å»ºè¯„è®ºï¼ˆéªŒè¯ JWTï¼‰
- **éœ€ä½œè€…æƒé™**ï¼šæ›´æ–°æ–‡ç« ã€åˆ é™¤æ–‡ç« ï¼ˆéªŒè¯ JWT + ç”¨æˆ·IDåŒ¹é…ï¼‰

---
### æµ‹è¯•è´¦å·
- å¼ ä¸‰ï¼š123456
- æå››ï¼š123456
- ç‹äº”ï¼š123456
- 
## é¡¹ç›®çŠ¶æ€

- âœ… å‰ç«¯é¡µé¢ï¼šå·²å®Œæˆ
- âœ… åç«¯å¼€å‘ï¼šå·²å®Œæˆ
- âœ… æ ¸å¿ƒåŠŸèƒ½ï¼šå…¨éƒ¨å®ç°

---
## é¡µé¢é¢„è§ˆ

### ç™»å½•ä¸æ³¨å†Œ
<p align="center">
  <img src="images/login.png" width="45%" alt="ç™»å½•é¡µ">
  <img src="images/register.png" width="45%" alt="æ³¨å†Œé¡µ">
</p>

### ä¸»é¡µä¸æ–‡ç« è¯¦æƒ…
<p align="center">
  <img src="images/index.png" width="45%" alt="ä¸»é¡µ">
  <img src="images/post1.png" width="45%" alt="æ–‡ç« è¯¦æƒ…é¡µ">
</p>

### æ›´å¤šæ–‡ç« ä¸è¯„è®ºåŒº
<p align="center">
  <img src="images/post2.png" width="45%" alt="æ–‡ç« åˆ—è¡¨é¡µ">
  <img src="images/comment.png" width="45%" alt="è¯„è®ºåŒº">
</p>

---

## è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ç”¨äºå­¦ä¹ å’Œç»ƒä¹ ç›®çš„ã€‚

---

## ä½œè€…

ä¸ªäººåšå®¢ç³»ç»Ÿ - Go å­¦ä¹ é¡¹ç›®

---

**æœ€åæ›´æ–°**: 2024å¹´11æœˆ

